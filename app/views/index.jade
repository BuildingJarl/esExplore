doctype html

html(lang="en")
  head
    base(href="/")
    meta(charset="utf-8")
    
    title
        |esExplore
    meta(name="description", content="A javascript scope chain visualization")
    meta(name="author" content="Ivan")

    link(rel="stylesheet" href="css/fa/css/font-awesome.min.css")
    link(rel="stylesheet" href="css/prism.css")

    link(rel="stylesheet" href="css/main.css")
    link(rel="stylesheet" href="css/explorerViewport.css")
    link(rel="stylesheet" href="css/explorerMenubar.css")
    link(rel="stylesheet" href="css/sliders.css")
    link(rel="stylesheet" href="css/explorerSourceViewer.css")

    script(src="js/lib/three.min.js")
    script(src="js/lib/Stats.js")
    script(src="js/lib/OrbitControls.js")
    script(src="js/lib/tween.min.js")
    script(src="js/lib/prism.js")

    script(src="js/lib/d3.min.js")

    script(src="js/lib/angular.min.js")
    script(src="js/lib/angular-ui-router.min.js")

    script(src="js/lib/esprima.js")
    script(src="js/lib/estraverse.js")
    script(src="js/lib/escope.js")
   
    script(src="js/app.js")
    
    script(src="js/controllers/appCtrl.js")
    script(src="js/controllers/explorerCtrl.js")
    script(src="js/controllers/explorerMenubarCtrl.js")
    script(src="js/controllers/sourceViewerCtrl.js")
    script(src="js/controllers/scopeViewerCtrl.js")

    script(src="js/directives/pageslide.js")
    script(src="js/directives/uploader.js")
    script(src="js/directives/three.js")
    script(src="js/directives/explorerViewport.js")
    script(src="js/directives/tooltip.js")
    script(src="js/directives/sourceViewerDirective.js")
    script(src="js/directives/prismDirective.js")
    script(src="js/directives/keyboardStateDirective.js")
    script(src="js/directives/scopeSourceDirective.js")

    script(src="js/services/repositoryService.js")
    script(src="js/services/fileService.js")
    script(src="js/services/layoutService.js")
    script(src="js/services/threeService.js")
    script(src="js/services/keyboardStateService.js")

    script(src="js/models/ES_EX.js")
    script(src="js/models/EsprimaExtractor.js")
    script(src="js/models/Repository.js")
    script(src="js/models/File.js")
    script(src="js/models/Scope.js")
    script(src="js/models/RendererCtrl.js")
    script(src="js/models/GLRenderer.js")
    script(src="js/models/ObjectFactory.js")
    script(src="js/models/PackedSphereCtrl.js")
    script(src="js/models/PackedSphereTree.js")
    script(src="js/models/PackedTreeNode.js")

  body(ng-app="esExploreApp" keyboard-state-directive)

    //-Google Analytics: change UA-XXXXX-X to be your site's ID
    script.
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-49297101-1');
        ga('send', 'pageview');

    script(id="vertexShader" type="x-shader/x-vertex").
        uniform vec3 viewVector;
        uniform float c;
        uniform float p;
        varying float intensity;
        void main() 
        {
            vec3 vNormal = normalize( normalMatrix * normal );
            vec3 vNormel = normalize( normalMatrix * viewVector );
            intensity = pow( c - dot(vNormal, vNormel), p );
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
    script(id="fragmentShader" type="x-shader/x-vertex").
        uniform vec3 glowColor;
        varying float intensity;
        void main() 
        {
            vec3 glow = glowColor * intensity;
            gl_FragColor = vec4( glow, 1.0 );
        }
 
    div(ui-view)

