doctype html

html(lang="en")
  head
    base(href="/")
    meta(charset="utf-8")
    
    title
        |esExplore
    meta(name="description", content="A javascript scope chain visualization")
    meta(name="author" content="Ivan")

    link(rel="stylesheet" href="bower_components/topcoat/css/topcoat-desktop-dark.css")
    link(rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.css")

    link(rel="stylesheet" href="styles/main.css")
    link(rel="stylesheet" href="styles/visualization.css")
    link(rel="stylesheet" href="styles/helpers.css")

    script(src="bower_components/threejs/build/three.js")
    script(src="other/CSS3DRenderer.js")
    script(src="other/Stats.js")
    script(src="other/OrbitControls.js")
    script(src="other/tween.min.js")

    script(src="bower_components/d3/d3.js")

    script(src="bower_components/angular/angular.js")
    script(src="bower_components/angular-ui-router/release/angular-ui-router.js")

    script(src="bower_components/esprima/esprima.js")
    script(src="bower_components/estraverse/estraverse.js")
    script(src="bower_components/escope/escope.js")
   
    script(src="scripts/app.js")
    
    script(src="scripts/controllers/appCtrl.js")
    script(src="scripts/controllers/visualisationCtrl.js")
    script(src="scripts/controllers/exploreCtrl.js")

    script(src="scripts/directives/pageslide.js")
    script(src="scripts/directives/uploader.js")
    script(src="scripts/directives/threeGl.js")
 
    script(src="scripts/services/repositoryService.js")
    script(src="scripts/services/fileService.js")
    script(src="scripts/services/layoutService.js")
    script(src="scripts/services/visEnvService.js")

    script(src="scripts/models/ES_EX.js")
    script(src="scripts/models/Repository.js")
    script(src="scripts/models/File.js")
    script(src="scripts/models/Scope.js")
    script(src="scripts/models/RendererCtrl.js")
    script(src="scripts/models/GLRenderer.js")
    script(src="scripts/models/CSSRenderer.js")
    script(src="scripts/models/ObjectFactory.js")
    script(src="scripts/models/PackedSphereCtrl.js")
    script(src="scripts/models/PackedSphereTree.js")
    script(src="scripts/models/PackedSphereTreeUtils.js")

  body(ng-app="esExploreApp")

    script(id="vertexShader" type="x-shader/x-vertex").
        uniform vec3 viewVector;
        uniform float c;
        uniform float p;
        varying float intensity;
        void main() 
        {
            vec3 vNormal = normalize( normalMatrix * normal );
            vec3 vNormel = normalize( normalMatrix * viewVector );
            intensity = pow( c - dot(vNormal, vNormel), p );
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
    script(id="fragmentShader" type="x-shader/x-vertex").
        uniform vec3 glowColor;
        varying float intensity;
        void main() 
        {
            vec3 glow = glowColor * intensity;
            gl_FragColor = vec4( glow, 1.0 );
        }
 
    div(ui-view class="inheritFromParent")

